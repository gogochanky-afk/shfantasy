<!DOCTYPE html>
<html>
<head>
  <title>SH Fantasy Arena</title>
  <style>
    body {
      font-family: Arial;
      background: #111;
      color: white;
      padding: 20px;
    }
    .pool {
      background: #222;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 8px;
    }
    button {
      background: orange;
      border: none;
      padding: 8px 12px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>ðŸ”¥ SH Fantasy Arena</h1>
<div id="pools"></div>

<script>
async function loadPools() {
  const res = await fetch('/api/pools');
  const data = await res.json();

  const container = document.getElementById('pools');

  data.pools.forEach(pool => {
    const div = document.createElement('div');
    div.className = 'pool';

    div.innerHTML = `
      <h3>${pool.name}</h3>
      <p>Salary Cap: ${pool.salaryCap}</p>
      <p>Roster Size: ${pool.rosterSize}</p>
      <button onclick="join('${pool.id}')">Join</button>
    `;

    container.appendChild(div);
  });
}

async function join(poolId) {
  const username = prompt("Enter your name:");

  await fetch('/api/join', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ poolId, username })
  });

  alert("Joined successfully!");
}

loadPools();
</script>

</body>
</html>
